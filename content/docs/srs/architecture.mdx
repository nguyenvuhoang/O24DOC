---
title: "Kiến Trúc Hệ Thống"
description: "System Architecture - Kiến trúc tổng quan hệ thống W4S"
---

## 3. Kiến Trúc Hệ Thống (System Architecture)

### 3.1 Kiến Trúc Tổng Quan

```
┌────────────────────────────────────────────────────────────────────────┐
│                           CLIENT LAYER                                 │
├────────────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐    │
│  │   iOS App   │  │ Android App │  │  Web App    │  │ Admin Panel │    │
│  │(ReactNative)│  │(ReactNative)│  │ (Next.js)   │  │  (Next.js)  │    │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘    │
│         │                │                │                │           │
│         └────────────────┴────────────────┴────────────────┘           │
│                                   │                                    │
│                                   ▼                                    │
│                          ┌───────────────┐                             │
│                          │   CDN / WAF   │                             │
│                          └───────┬───────┘                             │
└──────────────────────────────────┼─────────────────────────────────────┘
                                   │
┌──────────────────────────────────┼─────────────────────────────────────┐
│                          API GATEWAY LAYER                             │
├──────────────────────────────────┼─────────────────────────────────────┤
│                          ┌───────▼───────┐                             │
│                          │  API Gateway  │                             │
│                          │ Rate Limiting │                             │
│                          │   Auth/JWT    │                             │
│                          └───────┬───────┘                             │
└──────────────────────────────────┼─────────────────────────────────────┘
                                   │
┌──────────────────────────────────┼─────────────────────────────────────┐
│                          SERVICE LAYER (Microservices)                 │
├──────────────────────────────────┼─────────────────────────────────────┤
│    ┌──────────┐  ┌──────────┐  ┌─▼─────────┐ ┌──────────┐              │
│    │   Auth   │  │  Wallet  │  │Transaction│ │  Budget  │              │
│    │ Service  │  │ Service  │  │  Service  │ │ Service  │              │
│    └────┬─────┘  └────┬─────┘  └─────┬─────┘ └────┬─────┘              │ 
│         │             │              │            │                    │
│    ┌────┴────┐  ┌─────┴────┐  ┌──────┴─────┐ ┌────┴─────┐              │
│    │  Debt   │  │  Saving  │  │   Report   │ │  Notify  │              │
│    │ Service │  │ Service  │  │  Service   │ │ Service  │              │
│    └────┬────┘  └────┬─────┘  └──────┬─────┘ └────┬─────┘              │
│         │            │               │            │                    │
│         └────────────┴───────────────┴────────────┘                    │ 
│                              │                                         │
└──────────────────────────────┼─────────────────────────────────────────┘
                               │
┌──────────────────────────────┼────────────────────────────────────────┐
│                          DATA LAYER                                   │
├──────────────────────────────┼────────────────────────────────────────┤
│    ┌─────────────┐    ┌──────▼──────┐    ┌─────────────┐              │
│    │    Redis    │◄───│  SQLServer  │───►│  S3/MinIO   │              │
│    │   (Cache)   │    │   (Master)  │    │  (Storage)  │              │
│    └─────────────┘    └──────┬──────┘    └─────────────┘              │
│                              │                                        │
│                       ┌──────▼──────┐                                 │
│                       │  SQLServer  │                                 │
│                       │  (Replica)  │                                 │
│                       └─────────────┘                                 │
└───────────────────────────────────────────────────────────────────────┘
```

### 3.2 Giả Định Triển Khai

| Môi trường | Cấu hình |
|------------|----------|
| **Development** | Docker Compose, SQLite/PostgreSQL local |
| **Staging** | Kubernetes cluster (3 nodes), PostgreSQL managed |
| **Production** | Kubernetes cluster (5+ nodes), PostgreSQL HA, Redis Cluster |

---
